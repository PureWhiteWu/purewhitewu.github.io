<!DOCTYPE html><html lang="zh-Hans"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=2"><meta name="theme-color" content="#222"><meta http-equiv="X-UA-Compatible" content="IE=edge"><link rel="apple-touch-icon" sizes="180x180" href="https://static.purewhite.io/favicon.jpg?v=7.3.0"><link rel="icon" type="image/png" sizes="32x32" href="https://static.purewhite.io/favicon.jpg?v=7.3.0"><link rel="icon" type="image/png" sizes="16x16" href="https://static.purewhite.io/favicon.jpg?v=7.3.0"><link rel="mask-icon" href="https://static.purewhite.io/favicon.jpg?v=7.3.0" color="#222"><meta name="google-site-verification" content="Xg_Hnp9ie-Rq7-zLPdd3c9dQtR_0N845ue4QaK8jvL4"><meta property="fb:admins" content="100008177860594"><meta property="fb:app_id" content="761738893983932"><link rel="stylesheet" href="/css/main.css?v=7.3.0"><link rel="stylesheet" href="//cdn.jsdelivr.net/npm/font-awesome@4/css/font-awesome.min.css"><link rel="stylesheet" href="//cdn.jsdelivr.net/gh/fancyapps/fancybox@3/dist/jquery.fancybox.min.css"><link rel="stylesheet" href="/lib/pace/pace-theme-minimal.min.css?v=1.0.2"><script src="/lib/pace/pace.min.js?v=1.0.2"></script><script id="hexo-configurations">var NexT=window.NexT||{},CONFIG={root:"/",scheme:"Mist",version:"7.3.0",exturl:!1,sidebar:{position:"left",display:"post",offset:12,b2t:!1,scrollpercent:!0,onmobile:!1},copycode:{enable:!0,show_result:!0,style:null},back2top:{enable:!0,sidebar:!1,scrollpercent:!1},bookmark:{enable:!0,color:"#222",save:"auto"},fancybox:!0,mediumzoom:!1,lazyload:!0,pangu:!0,algolia:{appID:"ZP9482CZD3",apiKey:"d26207a3ce8de9fe98e7af4215425c93",indexName:"Blog",hits:{per_page:10},labels:{input_placeholder:"Search for Posts",hits_empty:"We didn't find any results for the search: ${query}",hits_stats:"${hits} results found in ${time} ms"}},localsearch:{enable:!1,trigger:"auto",top_n_per_article:1,unescape:!1,preload:!1},path:"",motion:{enable:!0,async:!1,transition:{post_block:"fadeIn",post_header:"slideDownIn",post_body:"slideDownIn",coll_header:"slideLeftIn",sidebar:"slideUpIn"}},translation:{copy_button:"Copy",copy_success:"Copied",copy_failure:"Copy failed"}}</script><meta name="description" content="Helmæ˜¯kubernetesçš„å®˜æ–¹åŒ…ç®¡ç†å·¥å…·ã€‚æ ¹æ®å®˜ç½‘ä¸Šçš„æè¿°Helm is the best way to find, share, and use software built for Kubernetes.å¯ä»¥çœ‹å‡ºhelmåœ¨kubernetesç¤¾åŒºä¸­çš„å®šä½ã€‚ è¿™ç¯‡æ–‡ç« å¹¶ä¸æ˜¯helmçš„å…¥é—¨æ–‡ç« ï¼Œè€Œæ˜¯ç€é‡äºå¦‚ä½•åœ¨æœ¬åœ°å¼€å‘chartã€‚å¸Œæœ›è¿›è¡Œhelmå…¥é—¨çš„åŒå­¦å¯ä»¥å‚è€ƒå®˜æ–¹æ–‡æ¡£ã€‚"><meta name="keywords" content="åç«¯,æ¶æ„,kubernetes,helm"><meta property="og:type" content="article"><meta property="og:title" content="å¦‚ä½•ä½¿ç”¨Helmè¿›è¡Œæœ¬åœ°å¼€å‘"><meta property="og:url" content="https://purewhite.io/2018/01/17/helm-local-dev/index.html"><meta property="og:site_name" content="Pure White"><meta property="og:description" content="Helmæ˜¯kubernetesçš„å®˜æ–¹åŒ…ç®¡ç†å·¥å…·ã€‚æ ¹æ®å®˜ç½‘ä¸Šçš„æè¿°Helm is the best way to find, share, and use software built for Kubernetes.å¯ä»¥çœ‹å‡ºhelmåœ¨kubernetesç¤¾åŒºä¸­çš„å®šä½ã€‚ è¿™ç¯‡æ–‡ç« å¹¶ä¸æ˜¯helmçš„å…¥é—¨æ–‡ç« ï¼Œè€Œæ˜¯ç€é‡äºå¦‚ä½•åœ¨æœ¬åœ°å¼€å‘chartã€‚å¸Œæœ›è¿›è¡Œhelmå…¥é—¨çš„åŒå­¦å¯ä»¥å‚è€ƒå®˜æ–¹æ–‡æ¡£ã€‚"><meta property="og:locale" content="zh-Hans"><meta property="og:updated_time" content="2019-03-18T06:14:04.391Z"><meta name="twitter:card" content="summary"><meta name="twitter:title" content="å¦‚ä½•ä½¿ç”¨Helmè¿›è¡Œæœ¬åœ°å¼€å‘"><meta name="twitter:description" content="Helmæ˜¯kubernetesçš„å®˜æ–¹åŒ…ç®¡ç†å·¥å…·ã€‚æ ¹æ®å®˜ç½‘ä¸Šçš„æè¿°Helm is the best way to find, share, and use software built for Kubernetes.å¯ä»¥çœ‹å‡ºhelmåœ¨kubernetesç¤¾åŒºä¸­çš„å®šä½ã€‚ è¿™ç¯‡æ–‡ç« å¹¶ä¸æ˜¯helmçš„å…¥é—¨æ–‡ç« ï¼Œè€Œæ˜¯ç€é‡äºå¦‚ä½•åœ¨æœ¬åœ°å¼€å‘chartã€‚å¸Œæœ›è¿›è¡Œhelmå…¥é—¨çš„åŒå­¦å¯ä»¥å‚è€ƒå®˜æ–¹æ–‡æ¡£ã€‚"><link rel="alternate" href="/atom.xml" title="Pure White" type="application/atom+xml"><link rel="canonical" href="https://purewhite.io/2018/01/17/helm-local-dev/"><script id="page-configurations">CONFIG.page={sidebar:"",isHome:!1,isPost:!0,isPage:!1,isArchive:!1}</script><title>å¦‚ä½•ä½¿ç”¨Helmè¿›è¡Œæœ¬åœ°å¼€å‘ | Pure White</title><meta name="generator" content="Hexo 3.9.0"><script async src="https://www.googletagmanager.com/gtag/js?id=UA-98194081-1"></script><script pjax>var host=window.location.hostname;if("localhost"!==host){function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","UA-98194081-1")}</script><script pjax>var _hmt=_hmt||[];!function(){var e=document.createElement("script");e.src="https://hm.baidu.com/hm.js?a29bb47eea3aa0d952f7bd979b29fa84";var t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t)}()</script><noscript><style>.sidebar-inner,.use-motion .brand,.use-motion .collection-header,.use-motion .comments,.use-motion .menu-item,.use-motion .pagination,.use-motion .post-block,.use-motion .post-body,.use-motion .post-header{opacity:initial}.use-motion .logo,.use-motion .site-subtitle,.use-motion .site-title{opacity:initial;top:initial}.use-motion .logo-line-before i{left:initial}.use-motion .logo-line-after i{right:initial}</style></noscript></head><body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans"><div class="container use-motion"><div class="headband"></div><header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader"><div class="header-inner"><div class="site-brand-container"><div class="site-meta"><div><a href="/" class="brand" rel="start"><span class="logo-line-before"><i></i></span> <span class="site-title">Pure White</span><span class="logo-line-after"><i></i></span></a></div><h1 class="site-subtitle" itemprop="description">ä¸»ä¸šå†™bugï¼Œå‰¯ä¸šdebug</h1></div><div class="site-nav-toggle"> <button aria-label="Toggle navigation bar"><span class="btn-bar"></span><span class="btn-bar"></span><span class="btn-bar"></span></button></div></div><nav class="site-nav"><ul id="menu" class="menu"><li class="menu-item menu-item-é¦–é¡µ"><a href="/" rel="section"><i class="menu-item-icon fa fa-fw fa-home"></i><br>é¦–é¡µ</a></li><li class="menu-item menu-item-å…³äºæˆ‘"><a href="/about/" rel="section"><i class="menu-item-icon fa fa-fw fa-user"></i><br>å…³äºæˆ‘</a></li><li class="menu-item menu-item-æ ‡ç­¾"><a href="/tags/" rel="section"><i class="menu-item-icon fa fa-fw fa-tags"></i><br>æ ‡ç­¾</a></li><li class="menu-item menu-item-åˆ†ç±»"><a href="/categories/" rel="section"><i class="menu-item-icon fa fa-fw fa-th"></i><br>åˆ†ç±»</a></li><li class="menu-item menu-item-å½’æ¡£"><a href="/archives/" rel="section"><i class="menu-item-icon fa fa-fw fa-archive"></i><br>å½’æ¡£</a></li><li class="menu-item menu-item-search"><a href="javascript:;" class="popup-trigger"><i class="menu-item-icon fa fa-search fa-fw"></i><br>Search</a></li></ul></nav><div class="site-search"><div class="popup search-popup"><div class="search-header"><span class="search-icon"><i class="fa fa-search"></i></span><div class="search-input" id="search-input"></div><span class="popup-btn-close"><i class="fa fa-times-circle"></i></span></div><div class="algolia-results"><div id="algolia-stats"></div><div id="algolia-hits"></div><div id="algolia-pagination" class="algolia-pagination"></div></div></div><div class="search-pop-overlay"></div></div></div></header><div class="back-to-top"><i class="fa fa-arrow-up"></i> <span>0%</span></div><div class="reading-progress-bar"></div><a class="book-mark-link book-mark-link-fixed" href="#"></a> <a href="https://github.com/PureWhiteWu" class="github-corner" title="Follow me on GitHub" aria-label="Follow me on GitHub" rel="noopener" target="_blank"><svg width="80" height="80" viewBox="0 0 250 250" aria-hidden="true"><path d="M0 0 115 115 130 115 142 142 250 250 250 0Z"></path><path d="M128.3 109C113.8 99.7 119 89.6 119 89.6 122 82.7 120.5 78.6 120.5 78.6 119.2 72 123.4 76.3 123.4 76.3 127.3 80.9 125.5 87.3 125.5 87.3 122.9 97.6 130.6 101.9 134.4 103.2" fill="currentColor" style="transform-origin:130px 106px" class="octo-arm"></path><path d="M115 115C114.9 115.1 118.7 116.5 119.8 115.4L133.7 101.6C136.9 99.2 139.9 98.4 142.2 98.6 133.8 88 127.5 74.4 143.8 58 148.5 53.4 154 51.2 159.7 51 160.3 49.4 163.2 43.6 171.4 40.1 171.4 40.1 176.1 42.5 178.8 56.2 183.1 58.6 187.2 61.8 190.9 65.4 194.5 69 197.7 73.2 200.1 77.6 213.8 80.2 216.3 84.9 216.3 84.9 212.7 93.1 206.9 96 205.4 96.6 205.1 102.4 203 107.8 198.3 112.5 181.9 128.9 168.3 122.5 157.7 114.1 157.9 116.9 156.7 120.9 152.7 124.9L141 136.5C139.8 137.7 141.6 141.9 141.8 141.8Z" fill="currentColor" class="octo-body"></path></svg></a><main id="main" class="main"><div class="main-inner"><div class="content-wrap"><div id="content" class="content"><div id="posts" class="posts-expand"><article itemscope itemtype="http://schema.org/Article"><div class="post-block post"><link itemprop="mainEntityOfPage" href="https://purewhite.io/2018/01/17/helm-local-dev/"><span hidden itemprop="author" itemscope itemtype="http://schema.org/Person"><meta itemprop="name" content="Pure White"><meta itemprop="description" content="é’æ˜¥ä¸æ˜¯å¹´åï¼Œæ˜¯å¿ƒå¢ƒï¼›<br />é’æ˜¥ä¸æ˜¯æ¡ƒé¢ã€ä¸¹å”‡ã€æŸ”è†ï¼Œ<br />è€Œæ˜¯æ·±æ²‰çš„æ„å¿—ã€æ¢å¼˜çš„æƒ³è±¡ã€<br />ç‚½çƒ­çš„æ„Ÿæƒ…ã€‚"><meta itemprop="image" content="https://static.purewhite.io/avatar.jpg"></span><span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization"><meta itemprop="name" content="Pure White"></span><header class="post-header"><h2 class="post-title" itemprop="name headline">å¦‚ä½•ä½¿ç”¨Helmè¿›è¡Œæœ¬åœ°å¼€å‘</h2><div class="post-meta"><span class="post-meta-item"><span class="post-meta-item-icon"><i class="fa fa-calendar-o"></i></span> <span class="post-meta-item-text">Posted on</span> <time title="Created: 2018-01-17 12:49:30" itemprop="dateCreated datePublished" datetime="2018-01-17T12:49:30+08:00">2018-01-17</time></span><span class="post-meta-item"><span class="post-meta-item-icon"><i class="fa fa-calendar-check-o"></i></span> <span class="post-meta-item-text">Edited on</span> <time title="Modified: 2019-03-18 14:14:04" itemprop="dateModified" datetime="2019-03-18T14:14:04+08:00">2019-03-18</time></span><span class="post-meta-item"><span class="post-meta-item-icon"><i class="fa fa-folder-o"></i></span> <span class="post-meta-item-text">In</span> <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/kubernetes/" itemprop="url" rel="index"><span itemprop="name">kubernetes</span></a></span></span><span id="/2018/01/17/helm-local-dev/" class="post-meta-item leancloud_visitors" data-flag-title="å¦‚ä½•ä½¿ç”¨Helmè¿›è¡Œæœ¬åœ°å¼€å‘" title="Views"><span class="post-meta-item-icon"><i class="fa fa-eye"></i></span> <span class="post-meta-item-text">Views:</span><span class="leancloud-visitors-count"></span></span><span class="post-meta-item"><span class="post-meta-item-icon"><i class="fa fa-comment-o"></i></span> <span class="post-meta-item-text">Disqus:</span><a title="disqus" href="/2018/01/17/helm-local-dev/#comments" itemprop="discussionUrl"><span class="post-comments-count disqus-comment-count" data-disqus-identifier="2018/01/17/helm-local-dev/" itemprop="commentCount"></span></a></span><br><span class="post-meta-item" title="Symbols count in article"><span class="post-meta-item-icon"><i class="fa fa-file-word-o"></i></span> <span class="post-meta-item-text">Symbols count in article:</span> <span>14k</span></span><span class="post-meta-item" title="Reading time"><span class="post-meta-item-icon"><i class="fa fa-clock-o"></i></span> <span class="post-meta-item-text">Reading time &asymp;</span> <span>12 mins.</span></span></div></header><div class="post-body" itemprop="articleBody"><p><a href="https://helm.sh/" target="_blank" rel="noopener">Helm</a>æ˜¯kubernetesçš„å®˜æ–¹åŒ…ç®¡ç†å·¥å…·ã€‚æ ¹æ®å®˜ç½‘ä¸Šçš„æè¿°<code>Helm is the best way to find, share, and use software built for Kubernetes.</code>å¯ä»¥çœ‹å‡ºhelmåœ¨kubernetesç¤¾åŒºä¸­çš„å®šä½ã€‚</p><p>è¿™ç¯‡æ–‡ç« å¹¶ä¸æ˜¯helmçš„å…¥é—¨æ–‡ç« ï¼Œè€Œæ˜¯ç€é‡äºå¦‚ä½•åœ¨æœ¬åœ°å¼€å‘chartã€‚å¸Œæœ›è¿›è¡Œhelmå…¥é—¨çš„åŒå­¦å¯ä»¥å‚è€ƒå®˜æ–¹æ–‡æ¡£ã€‚</p><a id="more"></a><h1 id="æ¦‚è¿°"><a href="#æ¦‚è¿°" class="headerlink" title="æ¦‚è¿°"></a>æ¦‚è¿°</h1><p>æœ¬æ–‡ä¼šåˆ†ä¸ºä¸¤ä¸ªéƒ¨åˆ†æ¥æ¢è®¨å¦‚ä½•åœ¨æœ¬åœ°å¼€å‘chartï¼Œåˆ†åˆ«æ˜¯ï¼š</p><ul><li>Chartçš„è§„èŒƒ</li><li>Helmæä¾›çš„æœ¬åœ°å¼€å‘åŠŸèƒ½</li></ul><h1 id="Chartçš„è§„èŒƒ"><a href="#Chartçš„è§„èŒƒ" class="headerlink" title="Chartçš„è§„èŒƒ"></a>Chartçš„è§„èŒƒ</h1><p>æ ¹æ®å®šä¹‰ï¼Œä¸€ä¸ªChartæ˜¯ä¸€äº›æœ‰ç›¸å…³æ€§çš„Kubernetesèµ„æºçš„é›†åˆã€‚ä¸€ä¸ªchartå¯ä»¥æ˜¯ä¸€ä¸ªç®€å•çš„åº”ç”¨ï¼Œæ¯”å¦‚memcachedï¼Œæˆ–è€…æ˜¯ä¸€ä¸ªå¤æ‚çš„é›†åˆï¼Œæ¯”å¦‚ä¸€ä¸ªfull-stackçš„webçš„åº”ç”¨ï¼Œå«æœ‰serverï¼Œuiï¼Œdatabaseï¼Œcacheç­‰ç­‰ã€‚</p><p>Chartä»æœ¬è´¨ä¸Šåªä¸è¿‡æ˜¯ä¸€äº›æ–‡ä»¶ï¼Œä¸è¿‡è¿™äº›æ–‡ä»¶éœ€è¦æ»¡è¶³ä¸€å®šçš„è§„èŒƒï¼Œæ¯”å¦‚ç›®å½•çš„è§„èŒƒå’Œæ–‡ä»¶åçš„è§„èŒƒã€‚</p><h2 id="Chartçš„ç›®å½•ç»“æ„"><a href="#Chartçš„ç›®å½•ç»“æ„" class="headerlink" title="Chartçš„ç›®å½•ç»“æ„"></a>Chartçš„ç›®å½•ç»“æ„</h2><p>æ ¹æ®è§„å®šï¼Œç¬¦åˆå¦‚ä¸‹ç›®å½•ç»“æ„çš„ç›®å½•å°±æ˜¯ä¸€ä¸ªChartï¼Œç›®å½•åå³ä¸ºChartåï¼ˆä¸åŒ…å«ç‰ˆæœ¬ä¿¡æ¯ï¼‰ï¼š</p><figure class="highlight applescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">wordpress/</span><br><span class="line">  Chart.yaml          <span class="comment"># A YAML file containing information about the chart</span></span><br><span class="line">  LICENSE             <span class="comment"># OPTIONAL: A plain text file containing the license for the chart</span></span><br><span class="line">  README.md           <span class="comment"># OPTIONAL: A human-readable README file</span></span><br><span class="line">  requirements.yaml   <span class="comment"># OPTIONAL: A YAML file listing dependencies for the chart</span></span><br><span class="line">  values.yaml         <span class="comment"># The default configuration values for this chart</span></span><br><span class="line">  charts/             <span class="comment"># OPTIONAL: A directory containing any charts upon which this chart depends.</span></span><br><span class="line">  templates/          <span class="comment"># OPTIONAL: A directory of templates that, when combined with values,</span></span><br><span class="line">                      <span class="comment"># will generate valid Kubernetes manifest files.</span></span><br><span class="line">  templates/NOTES.txt <span class="comment"># OPTIONAL: A plain text file containing short usage notes</span></span><br></pre></td></tr></table></figure><p>è™½ç„¶è¿™é‡Œçœ‹åˆ°chartså’Œtemplatesæ–‡ä»¶å¤¹éƒ½æ˜¯optionalçš„ï¼Œä½†æ˜¯è‡³å°‘éœ€è¦æœ‰ä¸€ä¸ªå­˜åœ¨ï¼Œchartæ‰æ˜¯åˆæ³•çš„ã€‚</p><h2 id="Chart-yamlæ–‡ä»¶"><a href="#Chart-yamlæ–‡ä»¶" class="headerlink" title="Chart.yamlæ–‡ä»¶"></a>Chart.yamlæ–‡ä»¶</h2><p>æ¯ä¸ªChartéƒ½å¿…é¡»æœ‰ä¸€ä¸ª<code>Chart.yaml</code>æ–‡ä»¶ï¼Œè¿™ä¸ªæ–‡ä»¶çš„å†…å®¹å¦‚ä¸‹ï¼š</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">name:</span> <span class="string">The</span> <span class="string">name</span> <span class="string">of</span> <span class="string">the</span> <span class="string">chart</span> <span class="string">(required)</span></span><br><span class="line"><span class="attr">version:</span> <span class="string">A</span> <span class="string">SemVer</span> <span class="number">2</span> <span class="string">version</span> <span class="string">(required)</span></span><br><span class="line"><span class="attr">description:</span> <span class="string">A</span> <span class="string">single-sentence</span> <span class="string">description</span> <span class="string">of</span> <span class="string">this</span> <span class="string">project</span> <span class="string">(optional)</span></span><br><span class="line"><span class="attr">keywords:</span></span><br><span class="line"><span class="bullet">  -</span> <span class="string">A</span> <span class="string">list</span> <span class="string">of</span> <span class="string">keywords</span> <span class="string">about</span> <span class="string">this</span> <span class="string">project</span> <span class="string">(optional)</span></span><br><span class="line"><span class="attr">home:</span> <span class="string">The</span> <span class="string">URL</span> <span class="string">of</span> <span class="string">this</span> <span class="string">project's</span> <span class="string">home</span> <span class="string">page</span> <span class="string">(optional)</span></span><br><span class="line"><span class="attr">sources:</span></span><br><span class="line"><span class="bullet">  -</span> <span class="string">A</span> <span class="string">list</span> <span class="string">of</span> <span class="string">URLs</span> <span class="string">to</span> <span class="string">source</span> <span class="string">code</span> <span class="string">for</span> <span class="string">this</span> <span class="string">project</span> <span class="string">(optional)</span></span><br><span class="line"><span class="attr">maintainers:</span> <span class="comment"># (optional)</span></span><br><span class="line"><span class="attr">  - name:</span> <span class="string">The</span> <span class="string">maintainer's</span> <span class="string">name</span> <span class="string">(required</span> <span class="string">for</span> <span class="string">each</span> <span class="string">maintainer)</span></span><br><span class="line"><span class="attr">    email:</span> <span class="string">The</span> <span class="string">maintainer's</span> <span class="string">email</span> <span class="string">(optional</span> <span class="string">for</span> <span class="string">each</span> <span class="string">maintainer)</span></span><br><span class="line"><span class="attr">    url:</span> <span class="string">A</span> <span class="string">URL</span> <span class="string">for</span> <span class="string">the</span> <span class="string">maintainer</span> <span class="string">(optional</span> <span class="string">for</span> <span class="string">each</span> <span class="string">maintainer)</span></span><br><span class="line"><span class="attr">engine:</span> <span class="string">gotpl</span> <span class="comment"># The name of the template engine (optional, defaults to gotpl)</span></span><br><span class="line"><span class="attr">icon:</span> <span class="string">A</span> <span class="string">URL</span> <span class="string">to</span> <span class="string">an</span> <span class="string">SVG</span> <span class="string">or</span> <span class="string">PNG</span> <span class="string">image</span> <span class="string">to</span> <span class="string">be</span> <span class="string">used</span> <span class="string">as</span> <span class="string">an</span> <span class="string">icon</span> <span class="string">(optional).</span></span><br><span class="line"><span class="attr">appVersion:</span> <span class="string">The</span> <span class="string">version</span> <span class="string">of</span> <span class="string">the</span> <span class="string">app</span> <span class="string">that</span> <span class="string">this</span> <span class="string">contains</span> <span class="string">(optional).</span> <span class="string">This</span> <span class="string">needn't</span> <span class="string">be</span> <span class="string">SemVer.</span></span><br><span class="line"><span class="attr">deprecated:</span> <span class="string">Whether</span> <span class="string">or</span> <span class="string">not</span> <span class="string">this</span> <span class="string">chart</span> <span class="string">is</span> <span class="string">deprecated</span> <span class="string">(optional,</span> <span class="string">boolean)</span></span><br><span class="line"><span class="attr">tillerVersion:</span> <span class="string">The</span> <span class="string">version</span> <span class="string">of</span> <span class="string">Tiller</span> <span class="string">that</span> <span class="string">this</span> <span class="string">chart</span> <span class="string">requires.</span> <span class="string">This</span> <span class="string">should</span> <span class="string">be</span> <span class="string">expressed</span> <span class="string">as</span> <span class="string">a</span> <span class="string">SemVer</span> <span class="attr">range:</span> <span class="string">"&gt;2.0.0"</span> <span class="string">(optional)</span></span><br></pre></td></tr></table></figure><h2 id="Chartçš„ç‰ˆæœ¬"><a href="#Chartçš„ç‰ˆæœ¬" class="headerlink" title="Chartçš„ç‰ˆæœ¬"></a>Chartçš„ç‰ˆæœ¬</h2><p>æ¯ä¸ªChartéƒ½å¿…é¡»æœ‰ä¸€ä¸ªç‰ˆæœ¬å·ï¼Œç‰ˆæœ¬å·å¿…é¡»éµå®ˆ<a href="http://semver.org/" target="_blank" rel="noopener">è¯­ä¹‰åŒ–ç‰ˆæœ¬è§„èŒƒV2</a>ã€‚æ¯ä¸ªpackageï¼ˆChartæ‰“åŒ…åçš„ä¸œè¥¿ï¼‰åŒæ—¶ç”±nameå’Œversionæ¥å”¯ä¸€ç¡®å®šã€‚</p><p>æ¯”å¦‚ï¼Œä¸€ä¸ªå«åš<code>nginx</code>çš„ç‰ˆæœ¬ä¸º<code>1.2.3</code>çš„Chartï¼Œæ‰“åŒ…åå°±æ˜¯<code>nginx-1.2.3.tgz</code>ã€‚</p><p>æ›´å¤æ‚çš„è¯­ä¹‰åŒ–ç‰ˆæœ¬å·æ˜¯è¢«æ”¯æŒçš„ï¼Œæ¯”å¦‚<code>version: 1.2.3-alpha.1+ef365</code>ä½†æ˜¯éè¯­ä¹‰åŒ–çš„ç‰ˆæœ¬æ˜¯ä¸è¢«å…è®¸çš„ã€‚</p><p>Helmå’ŒTilleréƒ½ä¼šä½¿ç”¨Chartçš„åç§°+ç‰ˆæœ¬æ¥å”¯ä¸€æ ‡è¯†ä¸€ä¸ªpackageï¼Œæ‰€ä»¥Chart.yamlé‡Œé¢çš„ç‰ˆæœ¬ä¸€å®šè¦å¯¹åº”packageçš„æ–‡ä»¶åã€‚</p><h2 id="appVersion"><a href="#appVersion" class="headerlink" title="appVersion"></a>appVersion</h2><p>appVersionå…¶å®å¹¶æ²¡å•¥ç”¨ï¼Œåªæ˜¯æŒ‡å®šäº†ChartåŒ…å«çš„åº”ç”¨çš„ç‰ˆæœ¬ï¼Œå¯¹helmå’Œtilleræ¥è¯´å¹¶ä¸ä¼šæœ‰å•¥å½±å“ï¼Œä¹Ÿä¸éœ€è¦å’ŒChartçš„versionä¸€è‡´ã€‚è‡ªå·±éšä¾¿å†™éƒ½å¯ä»¥â€¦â€¦</p><h2 id="Deprecating-Chart"><a href="#Deprecating-Chart" class="headerlink" title="Deprecating Chart"></a>Deprecating Chart</h2><p>å¯ä»¥é€šè¿‡åœ¨<code>Chart.yaml</code>é‡Œé¢æŠŠ<code>deprecated</code>è®¾ä¸º<code>true</code>æ¥æ ‡è¯†ä¸€ä¸ªChartå·²ç»æ˜¯deprecatedçŠ¶æ€ã€‚</p><h2 id="Licenseï¼ŒReadMEå’ŒNotes"><a href="#Licenseï¼ŒReadMEå’ŒNotes" class="headerlink" title="Licenseï¼ŒReadMEå’ŒNotes"></a>Licenseï¼ŒReadMEå’ŒNotes</h2><p>ä¸€ä¸ªChartè¿˜å¯ä»¥æœ‰Licenseæ¥æ ‡è¯†Licenseä¿¡æ¯ï¼ŒREADME.mdæ¥åŒ…å«ä¸€äº›ä»‹ç»ä¿¡æ¯ï¼Œä»¥åŠä¸€ä¸ªtemplates/NOTES.txtæ–‡ä»¶æ¥æŒ‡å¯¼å¦‚ä½•å»å®‰è£…æˆ–è€…ä½¿ç”¨ã€‚</p><p>templates/NOTES.txtæ–‡ä»¶ä¼šè¢«å½“åšæ™®é€šçš„templateæ¥å¯¹å¾…ï¼ˆæ„å‘³ç€å…¶ä¸­å¯ä»¥æœ‰å˜é‡ï¼‰ï¼Œå¹¶ä¸”ä¼šåœ¨æ¯æ¬¡<code>helm status</code>ä¹‹åå’Œ<code>helm install</code>ä¹‹åè¢«æ‰“å°åˆ°STDOUTã€‚</p><p>æ¯”å¦‚<code>stable/mysql</code>çš„NOTES.txtå¦‚ä¸‹ï¼š</p><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line">MySQL can be accessed via<span class="built_in"> port </span>3306 on the following<span class="built_in"> DNS </span>name <span class="keyword">from</span> within your cluster:</span><br><span class="line">&#123;&#123; template <span class="string">"mysql.fullname"</span> . &#125;&#125;.&#123;&#123; .Release.Namespace &#125;&#125;.svc.cluster.local</span><br><span class="line"></span><br><span class="line"><span class="keyword">To</span> <span class="builtin-name">get</span> your root password run:</span><br><span class="line"></span><br><span class="line">    <span class="attribute">MYSQL_ROOT_PASSWORD</span>=$(kubectl <span class="builtin-name">get</span><span class="built_in"> secret </span>--namespace &#123;&#123; .Release.Namespace &#125;&#125; &#123;&#123; template <span class="string">"mysql.fullname"</span> . &#125;&#125; -o <span class="attribute">jsonpath</span>=<span class="string">"&#123;.data.mysql-root-password&#125;"</span> | base64 --decode; echo)</span><br><span class="line"></span><br><span class="line"><span class="keyword">To</span> connect <span class="keyword">to</span> your database:</span><br><span class="line"></span><br><span class="line">1. <span class="builtin-name">Run</span> an Ubuntu pod that you can use as a client:</span><br><span class="line"></span><br><span class="line">    kubectl <span class="builtin-name">run</span> -i --tty ubuntu <span class="attribute">--image</span>=ubuntu:16.04 <span class="attribute">--restart</span>=Never -- bash -il</span><br><span class="line"></span><br><span class="line">2. Install the mysql client:</span><br><span class="line"></span><br><span class="line">    $ apt-<span class="builtin-name">get</span> update &amp;&amp; apt-<span class="builtin-name">get</span> install mysql-client -y</span><br><span class="line"></span><br><span class="line">3. Connect using the mysql cli, then provide your password:</span><br><span class="line">    $ mysql -h &#123;&#123; template <span class="string">"mysql.fullname"</span> . &#125;&#125; -p</span><br><span class="line"></span><br><span class="line"><span class="keyword">To</span> connect <span class="keyword">to</span> your database directly <span class="keyword">from</span> outside the K8s cluster:</span><br><span class="line">    &#123;&#123;- <span class="keyword">if</span> contains <span class="string">"NodePort"</span> .Values.service.type &#125;&#125;</span><br><span class="line">    <span class="attribute">MYSQL_HOST</span>=$(kubectl <span class="builtin-name">get</span> nodes --namespace &#123;&#123; .Release.Namespace &#125;&#125; -o <span class="attribute">jsonpath</span>=<span class="string">'&#123;.items[0].status.addresses[0].address&#125;'</span>)</span><br><span class="line">    <span class="attribute">MYSQL_PORT</span>=$(kubectl <span class="builtin-name">get</span> svc --namespace &#123;&#123; .Release.Namespace &#125;&#125; &#123;&#123; template <span class="string">"mysql.fullname"</span> . &#125;&#125; -o <span class="attribute">jsonpath</span>=<span class="string">'&#123;.spec.ports[0].nodePort&#125;'</span>)</span><br><span class="line"></span><br><span class="line">    &#123;&#123;- <span class="keyword">else</span> <span class="keyword">if</span> contains <span class="string">"ClusterIP"</span> .Values.service.type &#125;&#125;</span><br><span class="line">    <span class="attribute">MYSQL_HOST</span>=127.0.0.1</span><br><span class="line">    MYSQL_PORT=&#123;&#123;<span class="built_in"> default </span><span class="string">"3306"</span> .Values.service.port &#125;&#125;</span><br><span class="line"></span><br><span class="line">    # Execute the following commands <span class="keyword">to</span><span class="built_in"> route </span>the connection:</span><br><span class="line">    <span class="builtin-name">export</span> <span class="attribute">POD_NAME</span>=$(kubectl <span class="builtin-name">get</span> pods --namespace &#123;&#123; .Release.Namespace &#125;&#125; -l <span class="string">"app=&#123;&#123; template "</span>mysql.fullname<span class="string">" . &#125;&#125;"</span> -o <span class="attribute">jsonpath</span>=<span class="string">"&#123;.items[0].metadata.name&#125;"</span>)</span><br><span class="line">    kubectl port-forward <span class="variable">$POD_NAME</span> &#123;&#123;<span class="built_in"> default </span><span class="string">"3306"</span> .Values.service.port &#125;&#125;:&#123;&#123;<span class="built_in"> default </span><span class="string">"3306"</span> .Values.service.port &#125;&#125;</span><br><span class="line"></span><br><span class="line">    &#123;&#123;- end &#125;&#125;</span><br><span class="line"></span><br><span class="line">    mysql -h <span class="variable">$&#123;MYSQL_HOST&#125;</span> -P<span class="variable">$&#123;MYSQL_PORT&#125;</span> -u root -p<span class="variable">$&#123;MYSQL_ROOT_PASSWORD&#125;</span></span><br></pre></td></tr></table></figure><p>å¯ä»¥çœ‹å‡ºæ¥ï¼ŒNOTES.txtæ˜¯ç”¨æ¥ç»™ç”¨æˆ·ä½œä½¿ç”¨ä¸Šçš„æŒ‡å¯¼çš„ã€‚</p><h2 id="Chartçš„ä¾èµ–"><a href="#Chartçš„ä¾èµ–" class="headerlink" title="Chartçš„ä¾èµ–"></a>Chartçš„ä¾èµ–</h2><p>æˆ‘ä»¬éƒ½çŸ¥é“ï¼Œè½¯ä»¶å¼€å‘è¿‡ç¨‹ä¸­ï¼Œå¤ç”¨æ˜¯ä¸€ä¸ªå¾ˆé‡è¦çš„æ¦‚å¿µï¼ŒåŒæ ·çš„ï¼ŒChartä¹Ÿå¯ä»¥ä¾èµ–äºå…¶å®ƒçš„Chartï¼Œå¯ä»¥å¤ç”¨å…¶å®ƒçš„Chartçš„å†…å®¹ã€‚</p><h3 id="ä½¿ç”¨requirements-yaml"><a href="#ä½¿ç”¨requirements-yaml" class="headerlink" title="ä½¿ç”¨requirements.yaml"></a>ä½¿ç”¨requirements.yaml</h3><p>Helmæä¾›äº†ä¸¤ç§å¯¹Chartå¤ç”¨çš„æ–¹æ³•ï¼Œç¬¬ä¸€ç§æ˜¯åœ¨<code>requirements.yaml</code>ä¸­æŒ‡å®šä¾èµ–çš„Chartï¼Œå¦‚ä¸‹ï¼š</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">dependencies:</span></span><br><span class="line"><span class="attr">  - name:</span> <span class="string">apache</span></span><br><span class="line"><span class="attr">    version:</span> <span class="number">1.2</span><span class="number">.3</span></span><br><span class="line"><span class="attr">    repository:</span> <span class="attr">http://example.com/charts</span></span><br><span class="line"><span class="attr">  - name:</span> <span class="string">mysql</span></span><br><span class="line"><span class="attr">    version:</span> <span class="number">3.2</span><span class="number">.1</span></span><br><span class="line"><span class="attr">    repository:</span> <span class="attr">http://another.example.com/charts</span></span><br></pre></td></tr></table></figure><p>å¦‚æœè¯´éœ€è¦å¯¹ä¸€ä¸ªchartå¤ç”¨å¤šæ¬¡ï¼Œå¯ä»¥è¿™ä¹ˆå¹²ï¼š</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># parentchart/requirements.yaml</span></span><br><span class="line"><span class="attr">dependencies:</span></span><br><span class="line"><span class="attr">  - name:</span> <span class="string">subchart</span></span><br><span class="line"><span class="attr">    repository:</span> <span class="attr">http://localhost:10191</span></span><br><span class="line"><span class="attr">    version:</span> <span class="number">0.1</span><span class="number">.0</span></span><br><span class="line"><span class="attr">    alias:</span> <span class="string">new-subchart-1</span></span><br><span class="line"><span class="attr">  - name:</span> <span class="string">subchart</span></span><br><span class="line"><span class="attr">    repository:</span> <span class="attr">http://localhost:10191</span></span><br><span class="line"><span class="attr">    version:</span> <span class="number">0.1</span><span class="number">.0</span></span><br><span class="line"><span class="attr">    alias:</span> <span class="string">new-subchart-2</span></span><br><span class="line"><span class="attr">  - name:</span> <span class="string">subchart</span></span><br><span class="line"><span class="attr">    repository:</span> <span class="attr">http://localhost:10191</span></span><br><span class="line"><span class="attr">    version:</span> <span class="number">0.1</span><span class="number">.0</span></span><br></pre></td></tr></table></figure><p>é™¤æ­¤ä¹‹å¤–ï¼ŒHelmè¿˜å¯ä»¥é€‰æ‹©æ€§çš„å»ä½¿ç”¨ä¾èµ–çš„chartï¼Œå…·ä½“å¯ä»¥å‚è€ƒ<a href="https://docs.helm.sh/developing_charts/#tags-and-condition-fields-in-requirements-yaml" target="_blank" rel="noopener">tags and condition</a>ã€‚</p><h3 id="ç›´æ¥ä½¿ç”¨chartsæ¥æ‰‹åŠ¨ç®¡ç†"><a href="#ç›´æ¥ä½¿ç”¨chartsæ¥æ‰‹åŠ¨ç®¡ç†" class="headerlink" title="ç›´æ¥ä½¿ç”¨chartsæ¥æ‰‹åŠ¨ç®¡ç†"></a>ç›´æ¥ä½¿ç”¨chartsæ¥æ‰‹åŠ¨ç®¡ç†</h3><p>ç¬¬äºŒç§æ˜¯ç›´æ¥æŠŠéœ€è¦ç”¨çš„Chartæ”¾åˆ°<code>charts</code>æ–‡ä»¶å¤¹ä¸‹ã€‚ä¸€èˆ¬æƒ…å†µä¸‹æ¨èä½¿ç”¨ç¬¬ä¸€ç§ï¼Œç¬¬äºŒç§æ˜¯åœ¨éœ€è¦å¯¹ä¾èµ–çš„chartåšé­”æ”¹çš„æƒ…å†µä¸‹ç”¨åˆ°çš„ã€‚</p><p>Helmè¿˜æä¾›äº†<code>helm dep</code>è¿™ä¸ªå‘½ä»¤æ¥æ–¹ä¾¿å¯¹ä¾èµ–çš„ç®¡ç†ï¼Œä¹‹åä¼šä»‹ç»åˆ°ã€‚</p><h3 id="ä¾èµ–çš„ä¸€äº›å®ç°ç»†èŠ‚"><a href="#ä¾èµ–çš„ä¸€äº›å®ç°ç»†èŠ‚" class="headerlink" title="ä¾èµ–çš„ä¸€äº›å®ç°ç»†èŠ‚"></a>ä¾èµ–çš„ä¸€äº›å®ç°ç»†èŠ‚</h3><p>åœ¨<code>helm install</code>å’Œ<code>helm upgrade</code>çš„æ—¶å€™ï¼Œhelmä¼šæŠŠä¾èµ–å’Œå½“å‰chartæ‰“åŒ…æˆä¸€ä¸ªé›†åˆä¸€èµ·é€ç»™tillerï¼Œç„¶åï¼ˆç›®å‰æ˜¯ï¼‰æŒ‰ç…§ç±»å‹+å­—æ¯é¡ºåºæ¥applyï¼Œå¹¶ä¸æ˜¯å…ˆå»installä¾èµ–å†å»installå½“å‰çš„chartã€‚</p><p>ä¾‹å¦‚ï¼Œæˆ‘ä»¬æœ‰ä¸€ä¸ªchartï¼Œä¼šæœ‰ä»¥ä¸‹ä¸‰ä¸ªä¸œè¥¿ï¼š</p><ul><li>namespace â€œA-Namespaceâ€</li><li>statefulset â€œA-StatefulSetâ€</li><li>service â€œA-Serviceâ€</li></ul><p>è¿™ä¸ªchartä¾èµ–äºå¦ä¸€ä¸ªchartï¼Œæœ‰å¦‚ä¸‹ä¸‰ä¸ªä¸œè¥¿ï¼š</p><ul><li>namespace â€œB-Namespaceâ€</li><li>replicaset â€œB-ReplicaSetâ€</li><li>service â€œB-Serviceâ€</li></ul><p>é‚£ä¹ˆåœ¨å®‰è£…æˆ–è€…å‡çº§çš„è¿‡ç¨‹ä¸­ï¼Œé¡ºåºå¦‚ä¸‹ï¼š</p><ul><li>A-Namespace</li><li>B-Namespace</li><li>A-StatefulSet</li><li>B-ReplicaSet</li><li>A-Service</li><li>B-Service</li></ul><h1 id="Helmå®¢æˆ·ç«¯æä¾›çš„å’Œæœ¬åœ°å¼€å‘ç›¸å…³çš„åŠŸèƒ½"><a href="#Helmå®¢æˆ·ç«¯æä¾›çš„å’Œæœ¬åœ°å¼€å‘ç›¸å…³çš„åŠŸèƒ½" class="headerlink" title="Helmå®¢æˆ·ç«¯æä¾›çš„å’Œæœ¬åœ°å¼€å‘ç›¸å…³çš„åŠŸèƒ½"></a>Helmå®¢æˆ·ç«¯æä¾›çš„å’Œæœ¬åœ°å¼€å‘ç›¸å…³çš„åŠŸèƒ½</h1><p>Helmçš„å®¢æˆ·ç«¯æä¾›äº†ä¸€äº›å’Œæœ¬åœ°å¼€å‘ç›¸å…³çš„å‘½ä»¤ï¼Œè¿™é‡Œç®€å•ä»‹ç»ä¸€ä¸‹ã€‚</p><h2 id="helm-completion"><a href="#helm-completion" class="headerlink" title="helm completion"></a>helm completion</h2><p>é¡¾åæ€ä¹‰ï¼Œæä¾›äº†å‘½ä»¤è¡¥å…¨ï¼Œä½¿ç”¨æ–¹å¼ä¹Ÿæ¯”è¾ƒç®€å•ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> <span class="built_in">source</span> &lt;(helm completion zsh)</span></span><br></pre></td></tr></table></figure><h2 id="helm-create"><a href="#helm-create" class="headerlink" title="helm create"></a>helm create</h2><p>å¯ä»¥é€šè¿‡è¿™ä¸ªå‘½ä»¤ç›´æ¥åˆ›å»ºå‡ºä¸€ä¸ªç¬¦åˆChartè§„èŒƒçš„ç›®å½•å‡ºæ¥ï¼Œæ¯”å¦‚ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> helm create myweb</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> tree myweb</span></span><br><span class="line">myweb</span><br><span class="line">â”œâ”€â”€ Chart.yaml</span><br><span class="line">â”œâ”€â”€ charts</span><br><span class="line">â”œâ”€â”€ templates</span><br><span class="line">â”‚Â Â  â”œâ”€â”€ NOTES.txt</span><br><span class="line">â”‚Â Â  â”œâ”€â”€ _helpers.tpl</span><br><span class="line">â”‚Â Â  â”œâ”€â”€ deployment.yaml</span><br><span class="line">â”‚Â Â  â”œâ”€â”€ ingress.yaml</span><br><span class="line">â”‚Â Â  â””â”€â”€ service.yaml</span><br><span class="line">â””â”€â”€ values.yaml</span><br><span class="line"></span><br><span class="line">2 directories, 7 files</span><br></pre></td></tr></table></figure><h2 id="helm-dependency"><a href="#helm-dependency" class="headerlink" title="helm dependency"></a>helm dependency</h2><p>é¡¾åæ€ä¹‰ï¼Œæ˜¯ç”¨æ¥è¿›è¡Œä¾èµ–ç®¡ç†çš„ï¼Œå¯ä»¥è¢«ç®€å†™ä¸º<code>helm dep</code>ï¼Œå…·ä½“ä½¿ç”¨å¦‚ä¸‹ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> helm dep</span></span><br><span class="line">Manage the dependencies of a chart.</span><br><span class="line"></span><br><span class="line">Helm charts store their dependencies in 'charts/'. For chart developers, it is</span><br><span class="line">often easier to manage a single dependency file ('requirements.yaml')</span><br><span class="line">which declares all dependencies.</span><br><span class="line"></span><br><span class="line">The dependency commands operate on that file, making it easy to synchronize</span><br><span class="line">between the desired dependencies and the actual dependencies stored in the</span><br><span class="line">'charts/' directory.</span><br><span class="line"></span><br><span class="line">A 'requirements.yaml' file is a YAML file in which developers can declare chart</span><br><span class="line">dependencies, along with the location of the chart and the desired version.</span><br><span class="line">For example, this requirements file declares two dependencies:</span><br><span class="line"></span><br><span class="line">    # requirements.yaml</span><br><span class="line">    dependencies:</span><br><span class="line">    - name: nginx</span><br><span class="line">      version: "1.2.3"</span><br><span class="line">      repository: "https://example.com/charts"</span><br><span class="line">    - name: memcached</span><br><span class="line">      version: "3.2.1"</span><br><span class="line">      repository: "https://another.example.com/charts"</span><br><span class="line"></span><br><span class="line">The 'name' should be the name of a chart, where that name must match the name</span><br><span class="line">in that chart's 'Chart.yaml' file.</span><br><span class="line"></span><br><span class="line">The 'version' field should contain a semantic version or version range.</span><br><span class="line"></span><br><span class="line">The 'repository' URL should point to a Chart Repository. Helm expects that by</span><br><span class="line">appending '/index.yaml' to the URL, it should be able to retrieve the chart</span><br><span class="line">repository's index. Note: 'repository' can be an alias. The alias must start</span><br><span class="line">with 'alias:' or '@'.</span><br><span class="line"></span><br><span class="line">Starting from 2.2.0, repository can be defined as the path to the directory of</span><br><span class="line">the dependency charts stored locally. The path should start with a prefix of</span><br><span class="line">"file://". For example,</span><br><span class="line"></span><br><span class="line">    # requirements.yaml</span><br><span class="line">    dependencies:</span><br><span class="line">    - name: nginx</span><br><span class="line">      version: "1.2.3"</span><br><span class="line">      repository: "file://../dependency_chart/nginx"</span><br><span class="line"></span><br><span class="line">If the dependency chart is retrieved locally, it is not required to have the</span><br><span class="line">repository added to helm by "helm add repo". Version matching is also supported</span><br><span class="line">for this case.</span><br><span class="line"></span><br><span class="line">Usage:</span><br><span class="line">  helm dependency [command]</span><br><span class="line"></span><br><span class="line">Aliases:</span><br><span class="line">  dependency, dep, dependencies</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">Available Commands:</span><br><span class="line">  build       rebuild the charts/ directory based on the requirements.lock file</span><br><span class="line">  list        list the dependencies for the given chart</span><br><span class="line">  update      update charts/ based on the contents of requirements.yaml</span><br><span class="line"></span><br><span class="line">Flags:</span><br><span class="line">  -h, --help   help for dependency</span><br><span class="line"></span><br><span class="line">Use "helm dependency [command] --help" for more information about a command.</span><br></pre></td></tr></table></figure><h2 id="helm-fetch"><a href="#helm-fetch" class="headerlink" title="helm fetch"></a>helm fetch</h2><p>ä¸€çœ‹è¿™å°±æ˜¯ä¸ªä¸‹è½½åˆ«çš„chartçš„å‘½ä»¤ï¼Œä¸ºå•¥æˆ‘è¦è¯´å’Œæœ¬åœ°å¼€å‘æœ‰å…³ç³»å‘¢ï¼Ÿ</p><p>å› ä¸ºæˆ‘è®¤ä¸ºï¼Œhelmçš„å®˜æ–¹repoé‡Œé¢çš„chartæœ€å¤§çš„ä½œç”¨å°±æ˜¯ä½œä¸ºä¸€ä¸ªbest practiceæ¥å±•ç¤ºç»™ä½¿ç”¨è€…ä¸€ä¸ªç¤ºä¾‹ã€‚</p><p>æ‰€ä»¥ï¼Œå½“ä¸çŸ¥é“è¯¥æ€ä¹ˆå†™çš„æ—¶å€™ï¼Œå»æŠ„å§ğŸ˜ã€‚</p><h2 id="helm-lint"><a href="#helm-lint" class="headerlink" title="helm lint"></a>helm lint</h2><p>é¡¾åæ€ä¹‰ï¼Œç”¨æ¥æ£€æŸ¥ä¸€ä¸ªChartæ˜¯å¦å­˜åœ¨é—®é¢˜ã€‚</p><p>å¦‚æœè¯´æœ‰é”™è¯¯ï¼Œä¼šæŠ¥å‡ºerrorï¼Œå¹¶è¿”å›éé›¶å€¼ã€‚</p><p>æˆ‘ä»¬å°±ç”¨åˆšæ‰çš„mywebæ¥è¯•æ‰‹ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> helm lint myweb</span></span><br><span class="line">==&gt; Linting myweb</span><br><span class="line">[INFO] Chart.yaml: icon is recommended</span><br><span class="line"></span><br><span class="line">1 chart(s) linted, no failures</span><br></pre></td></tr></table></figure><h2 id="helm-package"><a href="#helm-package" class="headerlink" title="helm package"></a>helm package</h2><p>è¿™ä¸ªå‘½ä»¤æ˜¯å½“ä¸€ä¸ªchartå†™å®Œåç”¨æ¥æŠŠä¸€ä¸ªchartæ‰“åŒ…æˆ<code>chartName-version.tgz</code>çš„ã€‚ä¸€èˆ¬åªæœ‰åœ¨å‘å¸ƒçš„æ—¶å€™ä½¿ç”¨ï¼Œæä¾›äº†æ¯”è¾ƒå¤šçš„åŠŸèƒ½ï¼Œæ¯”å¦‚signä¹‹ç±»çš„ï¼Œå¦‚ä¸‹ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> helm package --<span class="built_in">help</span></span></span><br><span class="line">This command packages a chart into a versioned chart archive file. If a path</span><br><span class="line">is given, this will look at that path for a chart (which must contain a</span><br><span class="line">Chart.yaml file) and then package that directory.</span><br><span class="line"></span><br><span class="line">If no path is given, this will look in the present working directory for a</span><br><span class="line">Chart.yaml file, and (if found) build the current directory into a chart.</span><br><span class="line"></span><br><span class="line">Versioned chart archives are used by Helm package repositories.</span><br><span class="line"></span><br><span class="line">Usage:</span><br><span class="line">  helm package [flags] [CHART_PATH] [...]</span><br><span class="line"></span><br><span class="line">Flags:</span><br><span class="line">  -u, --dependency-update    update dependencies from "requirements.yaml" to dir "charts/" before packaging</span><br><span class="line">  -d, --destination string   location to write the chart. (default ".")</span><br><span class="line">      --key string           name of the key to use when signing. Used if --sign is true</span><br><span class="line">      --keyring string       location of a public keyring (default "/Users/daniel/.gnupg/pubring.gpg")</span><br><span class="line">      --save                 save packaged chart to local chart repository (default true)</span><br><span class="line">      --sign                 use a PGP private key to sign this package</span><br><span class="line">      --version string       set the version on the chart to this semver version</span><br></pre></td></tr></table></figure><p>æˆ‘ä»¬è¿˜æ˜¯ç”¨åˆšæ‰çš„mywebä½œä¸ºä¾‹å­ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> helm package myweb</span></span><br><span class="line">Successfully packaged chart and saved it to: /Users/daniel/Works/k8s/helm/myweb-0.1.0.tgz</span><br></pre></td></tr></table></figure><h2 id="helm-serve"><a href="#helm-serve" class="headerlink" title="helm serve"></a>helm serve</h2><p>è¿™ä¸ªå‘½ä»¤æ˜¯ç”¨æ¥åœ¨æœ¬åœ°å¼€å¯ä¸€ä¸ªrepo serverçš„ï¼Œå¯ä»¥ç”¨æ¥æœ¬åœ°æµ‹è¯•ä½¿ç”¨ã€‚</p><h2 id="helm-template"><a href="#helm-template" class="headerlink" title="helm template"></a>helm template</h2><p>è¿™ä¸ªå‘½ä»¤å¯ä»¥åœ¨æœ¬åœ°æ¸²æŸ“å‡ºtemplateæ¥æ£€æŸ¥æ˜¯å¦æ­£ç¡®ï¼Œå…·ä½“ä½¿ç”¨å¦‚ä¸‹ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> helm template --<span class="built_in">help</span></span></span><br><span class="line">Render chart templates locally and display the output.</span><br><span class="line"></span><br><span class="line">This does not require Tiller. However, any values that would normally be</span><br><span class="line">looked up or retrieved in-cluster will be faked locally. Additionally, none</span><br><span class="line">of the server-side testing of chart validity (e.g. whether an API is supported)</span><br><span class="line">is done.</span><br><span class="line"></span><br><span class="line">To render just one template in a chart, use '-x':</span><br><span class="line"></span><br><span class="line"><span class="meta">	$</span><span class="bash"> helm template mychart -x templates/deployment.yaml</span></span><br><span class="line"></span><br><span class="line">Usage:</span><br><span class="line">  helm template [flags] CHART</span><br><span class="line"></span><br><span class="line">Flags:</span><br><span class="line">  -x, --execute stringArray    only execute the given templates</span><br><span class="line">      --kube-version string    override the Kubernetes version used as Capabilities.KubeVersion.Major/Minor (e.g. 1.7)</span><br><span class="line">  -n, --name string            release name (default "RELEASE-NAME")</span><br><span class="line">      --name-template string   specify template used to name the release</span><br><span class="line">      --namespace string       namespace to install the release into</span><br><span class="line">      --notes                  show the computed NOTES.txt file as well</span><br><span class="line">      --set stringArray        set values on the command line (can specify multiple or separate values with commas: key1=val1,key2=val2)</span><br><span class="line">  -f, --values valueFiles      specify values in a YAML file (can specify multiple) (default [])</span><br></pre></td></tr></table></figure><p>æˆ‘ä»¬ä»ç„¶ä»¥mywebä½œä¸ºä¾‹å­ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> helm template myweb</span></span><br><span class="line">---</span><br><span class="line"><span class="meta">#</span><span class="bash"> Source: myweb/templates/service.yaml</span></span><br><span class="line">apiVersion: v1</span><br><span class="line">kind: Service</span><br><span class="line">metadata:</span><br><span class="line">  name: RELEASE-NAME-myweb</span><br><span class="line">  labels:</span><br><span class="line">    app: myweb</span><br><span class="line">    chart: myweb-0.1.0</span><br><span class="line">    release: RELEASE-NAME</span><br><span class="line">    heritage: Tiller</span><br><span class="line">spec:</span><br><span class="line">  type: ClusterIP</span><br><span class="line">  ports:</span><br><span class="line">    - port: 80</span><br><span class="line">      targetPort: 80</span><br><span class="line">      protocol: TCP</span><br><span class="line">      name: nginx</span><br><span class="line">  selector:</span><br><span class="line">    app: myweb</span><br><span class="line">    release: RELEASE-NAME</span><br><span class="line"></span><br><span class="line">---</span><br><span class="line"><span class="meta">#</span><span class="bash"> Source: myweb/templates/deployment.yaml</span></span><br><span class="line">apiVersion: extensions/v1beta1</span><br><span class="line">kind: Deployment</span><br><span class="line">metadata:</span><br><span class="line">  name: RELEASE-NAME-myweb</span><br><span class="line">  labels:</span><br><span class="line">    app: myweb</span><br><span class="line">    chart: myweb-0.1.0</span><br><span class="line">    release: RELEASE-NAME</span><br><span class="line">    heritage: Tiller</span><br><span class="line">spec:</span><br><span class="line">  replicas: 1</span><br><span class="line">  template:</span><br><span class="line">    metadata:</span><br><span class="line">      labels:</span><br><span class="line">        app: myweb</span><br><span class="line">        release: RELEASE-NAME</span><br><span class="line">    spec:</span><br><span class="line">      containers:</span><br><span class="line">        - name: myweb</span><br><span class="line">          image: "nginx:stable"</span><br><span class="line">          imagePullPolicy: IfNotPresent</span><br><span class="line">          ports:</span><br><span class="line">            - containerPort: 80</span><br><span class="line">          livenessProbe:</span><br><span class="line">            httpGet:</span><br><span class="line">              path: /</span><br><span class="line">              port: 80</span><br><span class="line">          readinessProbe:</span><br><span class="line">            httpGet:</span><br><span class="line">              path: /</span><br><span class="line">              port: 80</span><br><span class="line">          resources:</span><br><span class="line">            &#123;&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">---</span><br><span class="line"><span class="meta">#</span><span class="bash"> Source: myweb/templates/ingress.yaml</span></span><br></pre></td></tr></table></figure><h2 id="helm-verify"><a href="#helm-verify" class="headerlink" title="helm verify"></a>helm verify</h2><p>è¿™ä¸ªå‘½ä»¤æ˜¯ç”¨æ¥éªŒè¯ä¸€ä¸ªç»™å®šçš„chartæ˜¯å¦è¢«signã€‚åœ¨å¯¹å®‰å…¨æ€§è¦æ±‚é«˜çš„ç¯å¢ƒä¸‹æœ‰ç”¨ã€‚</p><h2 id="helm-plugin"><a href="#helm-plugin" class="headerlink" title="helm plugin"></a>helm plugin</h2><p>æœ€åæ˜¯è¿™ä¸ª<code>helm plugin</code>ï¼Œçœ‹åˆ°è¿™ä¸ªæˆ‘ä»¬å°±èƒ½æ„Ÿè§‰åˆ°ï¼Œhelmç¬é—´æœ‰äº†æ— æ•°çš„æ‰©å±•æ€§ï¼Œéœ€è¦ä»€ä¹ˆåŠŸèƒ½å¦‚æœhelmä¸æä¾›å’±ä»¬å°±è‡ªå·±å¹²ä¸€ä¸ªåŠ ä¸Šå»ã€‚</p><p>helmç›®å‰ç°åœ¨å·²ç»æœ‰äº†ä¸€äº›æ¯”è¾ƒå¥½çš„pluginï¼Œæ¯”å¦‚æœ‰ä¸€ä¸ªpluginæ”¯æŒç”¨template renderå‡ºæ¥ä¹‹åå†è¿›è¡ŒéªŒè¯æŸ¥é”™ä¹‹ç±»çš„ã€‚</p><p>å¦‚æœæœ‰ä¸€äº›åˆ«çš„å®šåˆ¶åŒ–çš„éœ€æ±‚ä¹Ÿå¯ä»¥é€šè¿‡è‡ªå·±å†™ä¸ªpluginæ¥å®Œæˆã€‚</p></div><div id="reward-container"><div>è¯·åšä¸»å–æ¯å’–å•¡~</div> <button id="reward-button" disable="enable" onclick="var qr = document.getElementById(&quot;qr&quot;); qr.style.display = (qr.style.display === 'none') ? 'block' : 'none';"> Donate</button><div id="qr" style="display:none"><div style="display:inline-block"> <img src="https://static.purewhite.io/wechat_pay.jpeg" alt="Pure White WeChat Pay"><p>WeChat Pay</p></div><div style="display:inline-block"> <img src="https://static.purewhite.io/alipay.jpeg" alt="Pure White Alipay"><p>Alipay</p></div></div></div><footer class="post-footer"><div class="post-tags"> <a href="/tags/kubernetes/" rel="tag"># kubernetes</a> <a href="/tags/è¿ç»´/" rel="tag"># è¿ç»´</a> <a href="/tags/åç«¯/" rel="tag"># åç«¯</a> <a href="/tags/æ¶æ„/" rel="tag"># æ¶æ„</a> <a href="/tags/docker/" rel="tag"># docker</a> <a href="/tags/linux/" rel="tag"># linux</a></div><div class="post-widgets"><div class="wp_rating"><div id="wpac-rating"></div></div></div><div class="post-nav"><div class="post-nav-next post-nav-item"><a href="/2018/01/17/helm-provide-value/" rel="next" title="Helmä¸­å¦‚ä½•ä¼ é€’value"><i class="fa fa-chevron-left"></i> Helmä¸­å¦‚ä½•ä¼ é€’value</a></div><span class="post-nav-divider"></span><div class="post-nav-prev post-nav-item"> <a href="/2018/03/30/lintcode-longest-palindrome/" rel="prev" title="LintCode 627.æœ€é•¿å›æ–‡ä¸²">LintCode 627.æœ€é•¿å›æ–‡ä¸²<i class="fa fa-chevron-right"></i></a></div></div></footer></div></article></div></div><div class="comments" id="comments"><div id="disqus_thread"><noscript>Please enable JavaScript to view the comments powered by Disqus.</noscript></div></div></div><div class="sidebar-toggle"><div class="sidebar-toggle-line-wrap"><span class="sidebar-toggle-line sidebar-toggle-line-first"></span><span class="sidebar-toggle-line sidebar-toggle-line-middle"></span><span class="sidebar-toggle-line sidebar-toggle-line-last"></span></div></div><aside class="sidebar"><div class="sidebar-inner"><ul class="sidebar-nav motion-element"><li class="sidebar-nav-toc" data-target="post-toc-wrap"> Table of Contents</li><li class="sidebar-nav-overview" data-target="site-overview-wrap"> Overview</li></ul><div class="post-toc-wrap sidebar-panel"><div class="post-toc motion-element"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#æ¦‚è¿°"><span class="nav-number">1.</span> <span class="nav-text">æ¦‚è¿°</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Chartçš„è§„èŒƒ"><span class="nav-number">2.</span> <span class="nav-text">Chartçš„è§„èŒƒ</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#Chartçš„ç›®å½•ç»“æ„"><span class="nav-number">2.1.</span> <span class="nav-text">Chartçš„ç›®å½•ç»“æ„</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Chart-yamlæ–‡ä»¶"><span class="nav-number">2.2.</span> <span class="nav-text">Chart.yamlæ–‡ä»¶</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Chartçš„ç‰ˆæœ¬"><span class="nav-number">2.3.</span> <span class="nav-text">Chartçš„ç‰ˆæœ¬</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#appVersion"><span class="nav-number">2.4.</span> <span class="nav-text">appVersion</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Deprecating-Chart"><span class="nav-number">2.5.</span> <span class="nav-text">Deprecating Chart</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Licenseï¼ŒReadMEå’ŒNotes"><span class="nav-number">2.6.</span> <span class="nav-text">Licenseï¼ŒReadMEå’ŒNotes</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Chartçš„ä¾èµ–"><span class="nav-number">2.7.</span> <span class="nav-text">Chartçš„ä¾èµ–</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#ä½¿ç”¨requirements-yaml"><span class="nav-number">2.7.1.</span> <span class="nav-text">ä½¿ç”¨requirements.yaml</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#ç›´æ¥ä½¿ç”¨chartsæ¥æ‰‹åŠ¨ç®¡ç†"><span class="nav-number">2.7.2.</span> <span class="nav-text">ç›´æ¥ä½¿ç”¨chartsæ¥æ‰‹åŠ¨ç®¡ç†</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#ä¾èµ–çš„ä¸€äº›å®ç°ç»†èŠ‚"><span class="nav-number">2.7.3.</span> <span class="nav-text">ä¾èµ–çš„ä¸€äº›å®ç°ç»†èŠ‚</span></a></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Helmå®¢æˆ·ç«¯æä¾›çš„å’Œæœ¬åœ°å¼€å‘ç›¸å…³çš„åŠŸèƒ½"><span class="nav-number">3.</span> <span class="nav-text">Helmå®¢æˆ·ç«¯æä¾›çš„å’Œæœ¬åœ°å¼€å‘ç›¸å…³çš„åŠŸèƒ½</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#helm-completion"><span class="nav-number">3.1.</span> <span class="nav-text">helm completion</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#helm-create"><span class="nav-number">3.2.</span> <span class="nav-text">helm create</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#helm-dependency"><span class="nav-number">3.3.</span> <span class="nav-text">helm dependency</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#helm-fetch"><span class="nav-number">3.4.</span> <span class="nav-text">helm fetch</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#helm-lint"><span class="nav-number">3.5.</span> <span class="nav-text">helm lint</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#helm-package"><span class="nav-number">3.6.</span> <span class="nav-text">helm package</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#helm-serve"><span class="nav-number">3.7.</span> <span class="nav-text">helm serve</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#helm-template"><span class="nav-number">3.8.</span> <span class="nav-text">helm template</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#helm-verify"><span class="nav-number">3.9.</span> <span class="nav-text">helm verify</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#helm-plugin"><span class="nav-number">3.10.</span> <span class="nav-text">helm plugin</span></a></li></ol></li></ol></div></div><div class="site-overview-wrap sidebar-panel"><div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person"> <img class="site-author-image" itemprop="image" src="https://static.purewhite.io/avatar.jpg" alt="Pure White"><p class="site-author-name" itemprop="name">Pure White</p><div class="site-description" itemprop="description">é’æ˜¥ä¸æ˜¯å¹´åï¼Œæ˜¯å¿ƒå¢ƒï¼›<br>é’æ˜¥ä¸æ˜¯æ¡ƒé¢ã€ä¸¹å”‡ã€æŸ”è†ï¼Œ<br>è€Œæ˜¯æ·±æ²‰çš„æ„å¿—ã€æ¢å¼˜çš„æƒ³è±¡ã€<br>ç‚½çƒ­çš„æ„Ÿæƒ…ã€‚</div></div><nav class="site-state motion-element"><div class="site-state-item site-state-posts"> <a href="/archives"><span class="site-state-item-count">48</span> <span class="site-state-item-name">posts</span></a></div><div class="site-state-item site-state-categories"> <a href="/categories/"><span class="site-state-item-count">15</span> <span class="site-state-item-name">categories</span></a></div><div class="site-state-item site-state-tags"> <a href="/tags/"><span class="site-state-item-count">30</span> <span class="site-state-item-name">tags</span></a></div></nav><div class="feed-link motion-element"><a href="/atom.xml" rel="alternate"><i class="fa fa-rss"></i> RSS</a></div><div class="links-of-author motion-element"><span class="links-of-author-item"><a href="https://github.com/PureWhiteWu" title="GitHub &rarr; https://github.com/PureWhiteWu" rel="noopener" target="_blank"><i class="fa fa-fw fa-github"></i> GitHub</a></span><span class="links-of-author-item"><a href="mailto:daniel48@126.com" title="E-Mail &rarr; mailto:daniel48@126.com" rel="noopener" target="_blank"><i class="fa fa-fw fa-envelope"></i> E-Mail</a></span><span class="links-of-author-item"><a href="https://twitter.com/PureWhite_Wu" title="Twitter &rarr; https://twitter.com/PureWhite_Wu" rel="noopener" target="_blank"><i class="fa fa-fw fa-twitter"></i> Twitter</a></span><span class="links-of-author-item"><a href="https://www.linkedin.com/in/%E8%BF%AA-%E5%90%B4-846051106/" title="LinkedIn &rarr; https://www.linkedin.com/in/%E8%BF%AA-%E5%90%B4-846051106/" rel="noopener" target="_blank"><i class="fa fa-fw fa-linkedin"></i> LinkedIn</a></span><span class="links-of-author-item"><a href="https://telegram.me/PureWhiteWu" title="Telegram &rarr; https://telegram.me/PureWhiteWu" rel="noopener" target="_blank"><i class="fa fa-fw fa-telegram"></i> Telegram</a></span><span class="links-of-author-item"><a href="http://weibo.com/purewhitewu" title="å¾®åš &rarr; http://weibo.com/purewhitewu" rel="noopener" target="_blank"><i class="fa fa-fw fa-weibo"></i> å¾®åš</a></span><span class="links-of-author-item"><a href="https://www.zhihu.com/people/PureWhite_Wu" title="çŸ¥ä¹ &rarr; https://www.zhihu.com/people/PureWhite_Wu" rel="noopener" target="_blank"><i class="fa fa-fw fa-book"></i> çŸ¥ä¹</a></span><span class="links-of-author-item"><a href="https://static.purewhite.io/wechat.jpeg" title="å¾®ä¿¡ &rarr; https://static.purewhite.io/wechat.jpeg" rel="noopener" target="_blank"><i class="fa fa-fw fa-weixin"></i> å¾®ä¿¡</a></span></div><div class="links-of-blogroll motion-element"><div class="links-of-blogroll-title"><i class="fa fa-fw fa-link"></i> å‹æƒ…é“¾æ¥</div><ul class="links-of-blogroll-list"><li class="links-of-blogroll-item"> <a href="http://blog.didispace.com/" title="http://blog.didispace.com/" rel="noopener" target="_blank">ç¨‹åºçŒ¿DD</a></li><li class="links-of-blogroll-item"> <a href="http://www.v2ex.com/?r=PureWhiteWu" title="http://www.v2ex.com/?r=PureWhiteWu" rel="noopener" target="_blank">v2ex</a></li><li class="links-of-blogroll-item"> <a href="https://yuzhouwan.com/" title="https://yuzhouwan.com/" rel="noopener" target="_blank">å®‡å®™æ¹¾</a></li><li class="links-of-blogroll-item"> <a href="https://pengrl.com/" title="https://pengrl.com/" rel="noopener" target="_blank">yoko blog</a></li></ul></div></div></div></aside><div id="sidebar-dimmer"></div></div></main><footer id="footer" class="footer"><div class="footer-inner"><div class="copyright"><a href="http://www.beian.miit.gov.cn" rel="noopener" target="_blank">æ²ªICPå¤‡15051443å·-3</a><a href="http://www.beian.gov.cn/portal/registerSystemInfo?recordcode=" rel="noopener" target="_blank"></a> &copy; 2017 â€“ <span itemprop="copyrightYear">2019</span><span class="with-love" id="animate"><i class="fa fa-user"></i></span> <span class="author" itemprop="copyrightHolder">Pure White</span> <span class="post-meta-divider">|</span><span class="post-meta-item-icon"><i class="fa fa-area-chart"></i></span> <span class="post-meta-item-text">Symbols count total:</span> <span title="Symbols count total">136k</span></div><div class="powered-by">Powered by <a href="https://hexo.io" class="theme-link" rel="noopener" target="_blank">Hexo</a> v3.9.0</div> <span class="post-meta-divider">|</span><div class="theme-info">Theme â€“ <a href="https://theme-next.org" class="theme-link" rel="noopener" target="_blank">NexT.Mist</a> v7.3.0</div><script pjax>
  function leancloudSelector(url) {
    return document.getElementById(url).querySelector('.leancloud-visitors-count');
  }
  if (CONFIG.page.isPost) {
    function addCount(Counter) {
      var visitors = document.querySelector('.leancloud_visitors');
      var url = visitors.getAttribute('id').trim();
      var title = visitors.getAttribute('data-flag-title').trim();

      Counter('get', `/classes/Counter?where=${JSON.stringify({ url })}`)
        .then(response => response.json())
        .then(({ results }) => {
          if (results.length > 0) {
            var counter = results[0];
              leancloudSelector(url).innerText = counter.time + 1;
            
            Counter('put', '/classes/Counter/' + counter.objectId, { time: { '__op': 'Increment', 'amount': 1 } })
              .then(response => response.json())
              .catch(error => {
                console.log('Failed to save visitor count', error);
              })
          } else {
              Counter('post', '/classes/Counter', { title: title, url: url, time: 1 })
                .then(response => response.json())
                .then(() => {
                  leancloudSelector(url).innerText = 1;
                })
                .catch(error => {
                  console.log('Failed to create', error);
                });
            
          }
        })
        .catch(error => {
          console.log('LeanCloud Counter Error', error);
        });
    }
  } else {
    function showTime(Counter) {
      var visitors = document.querySelectorAll('.leancloud_visitors');
      var entries = [...visitors].map(element => {
        return element.getAttribute('id').trim();
      });

      Counter('get', `/classes/Counter?where=${JSON.stringify({ url: { '$in': entries } })}`)
        .then(response => response.json())
        .then(({ results }) => {
          if (results.length === 0) {
            document.querySelectorAll('.leancloud_visitors .leancloud-visitors-count').forEach(element => {
              element.innerText = 0;
            });
            return;
          }
          for (var i = 0; i < results.length; i++) {
            var item = results[i];
            var url = item.url;
            var time = item.time;
            leancloudSelector(url).innerText = time;
          }
          for (var i = 0; i < entries.length; i++) {
            var url = entries[i];
            var element = leancloudSelector(url);
            if (element.innerText == '') {
              element.innerText = 0;
            }
          }
        })
        .catch(error => {
          console.log('LeanCloud Counter Error', error);
        });
    }
  }

  fetch('https://app-router.leancloud.cn/2/route?appId=Sa9GIjpR90eFliBWzUAiUp9W-gzGzoHsz')
    .then(response => response.json())
    .then(({ api_server }) => {
      var Counter = (method, url, data) => {
        return fetch(`https://${api_server}/1.1${url}`, {
          method: method,
          headers: {
            'X-LC-Id': 'Sa9GIjpR90eFliBWzUAiUp9W-gzGzoHsz',
            'X-LC-Key': 'rSpeP2HoYIdOYJr4p2elMvLn',
            'Content-Type': 'application/json',
          },
          body: JSON.stringify(data)
        });
      };
      if (CONFIG.page.isPost) {
        const localhost = /http:\/\/(localhost|127.0.0.1|0.0.0.0)/;
        if (localhost.test(document.URL)) return;
        addCount(Counter);
      } else if (document.querySelectorAll('.post-title-link').length >= 1) {
        showTime(Counter);
      }
    });
  </script><script pjax>!function(){var e=document.createElement("script");e.src="//tajs.qq.com/stats?sId=61888292";var t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t)}()</script></div></footer></div><script src="/lib/jquery/index.js?v=3.4.1"></script><script src="//cdn.jsdelivr.net/gh/theme-next/theme-next-pjax@0/pjax.min.js"></script><script src="//cdn.jsdelivr.net/gh/fancyapps/fancybox@3/dist/jquery.fancybox.min.js"></script><script src="//cdn.jsdelivr.net/npm/lozad@1/dist/lozad.min.js"></script><script src="//cdn.jsdelivr.net/npm/pangu@4/dist/browser/pangu.min.js"></script><script src="/lib/velocity/velocity.min.js?v=1.2.1"></script><script src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script><script src="/js/utils.js?v=7.3.0"></script><script src="/js/motion.js?v=7.3.0"></script><script src="/js/bookmark.js?v=7.3.0"></script><script src="/js/schemes/muse.js?v=7.3.0"></script><script src="/js/next-boot.js?v=7.3.0"></script><script pjax>!function(){var t=document.createElement("script"),e=window.location.protocol.split(":")[0];t.src="https"===e?"https://zz.bdstatic.com/linksubmit/push.js":"http://push.zhanzhang.baidu.com/push.js";var s=document.getElementsByTagName("script")[0];s.parentNode.insertBefore(t,s)}()</script><script>function fbAsyncInit(){FB.init({appId:"761738893983932",xfbml:!0,version:"v3.3"})}!function(e,n,t){var c,o=e.getElementsByTagName(n)[0];e.getElementById(t)||((c=e.createElement(n)).id=t,c.src="//connect.facebook.net/zh_Hans/sdk.js",o.parentNode.insertBefore(c,o))}(document,"script","facebook-jssdk")</script><script pjax>CONFIG.page.isPost&&(wpac_init=window.wpac_init||[],wpac_init.push({widget:"Rating",id:8500,el:"wpac-rating",color:"fc6423"}),function(){if(!("WIDGETPACK_LOADED"in window)){WIDGETPACK_LOADED=!0;var e=document.createElement("script");e.type="text/javascript",e.async=!0,e.src="//embed.widgetpack.com/widget.js";var t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t.nextSibling)}}())</script><link rel="stylesheet" href="//cdn.jsdelivr.net/npm/instantsearch.js@2/dist/instantsearch.min.css"><script src="//cdn.jsdelivr.net/npm/instantsearch.js@2/dist/instantsearch.min.js"></script><script src="/js/algolia-search.js?v=7.3.0"></script><div id="pjax"><script>function loadCount(){var d=document,t=d.createElement("script");t.src="https://blog-zr0zqnlt9p.disqus.com/count.js",t.id="dsq-count-scr",(d.head||d.body).appendChild(t)}window.addEventListener("load",loadCount,!1)</script><script>
  function disqus_config() {
    this.page.url = "https://purewhite.io/2018/01/17/helm-local-dev/";
    this.page.identifier = "2018/01/17/helm-local-dev/";
    this.page.title = 'å¦‚ä½•ä½¿ç”¨Helmè¿›è¡Œæœ¬åœ°å¼€å‘';};
  function loadComments() {
    if (window.DISQUS) {
      DISQUS.reset({
        reload: true,
        config: disqus_config
      });
    } else {
      var d = document, s = d.createElement('script');
      s.src = 'https://blog-zr0zqnlt9p.disqus.com/embed.js';
      s.setAttribute('data-timestamp', '' + +new Date());
      (d.head || d.body).appendChild(s);
    }
  }
    (function() {
      var offsetTop = document.getElementById('comments').offsetTop - window.innerHeight;
      if (offsetTop <= 0) {
        // load directly when there's no a scrollbar
        window.addEventListener('load', loadComments, false);
      } else {
        var disqus_scroll = () => {
          // offsetTop may changes because of manually resizing browser window or lazy loading images.
          var offsetTop = document.getElementById('comments').offsetTop - window.innerHeight;
          var scrollTop = window.scrollY;

          // pre-load comments a bit? (margin or anything else)
          if (offsetTop - scrollTop < 60) {
            window.removeEventListener('scroll', disqus_scroll);
            loadComments();
          }
        };
        window.addEventListener('scroll', disqus_scroll);
      }
    })();
  
</script></div><script>
var pjax = new Pjax({
  selectors: [
    'head title',
    '#page-configurations',
    '.content-wrap',
    '.post-toc-wrap',
    '#pjax'
  ],
  switches: {
    '.post-toc-wrap': Pjax.switches.innerHTML
  },
  analytics: false,
  cacheBust: false,
  scrollTo: !CONFIG.bookmark.enable
});
window.addEventListener('pjax:success', () => {
  document.querySelectorAll('script[pjax], script#page-configurations, #pjax script').forEach(element => {
    $(element).parent().append($(element).remove());
  });
  // Define Motion Sequence & Bootstrap Motion.
  if (CONFIG.motion.enable) {
    NexT.motion.integrator
      .init()
      .add(NexT.motion.middleWares.postList)
      .bootstrap();
  }
  NexT.utils.updateSidebarPosition();
});
</script></body></html>